<div *ngFor="let todo of todos; let i = index; let todotypes todosType" class="p-8 w-full">
    <div *ngIf="!editingMode" class="h-full flex items-center justify-between border-gray-200 border p-4 rounded-lg" style="width: 800px;">
        <div class="flex items-center">
            <!-- ICON -->
            <svg *ngIf="todosType == 'onGoing'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-16 h-16 text-blue-500 object-cover object-center flex-shrink-0 rounded-full mr-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
            </svg>
            <svg *ngIf="todosType == 'finished'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-16 h-16 text-red-500 object-cover object-center flex-shrink-0 rounded-full mr-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z" />
            </svg>
            <svg *ngIf="todosType == 'canceled'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-16 h-16 text-green-500 object-cover object-center flex-shrink-0 rounded-full mr-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            <div>
                <h2 class="text-gray-900 title-font font-medium mb-4">{{todo.title}}</h2>
                <p class="text-gray-500 ml-4">{{todo.description}}</p>
            </div>
        </div>
        <div class="flex items-center space-x-6">
            <!-- Button Cancel -->
            <button *ngIf="todosType == 'onGoing'" class="relative group" (click)="cancelTodo()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                </svg>
                <span class="opacity-0 absolute top-0 left-1 w-full h-full flex justify-center items-center text-sm group-hover:opacity-100 transition-opacity duration-300 -mt-6">Cancel</span>
            </button>
            <button *ngIf="todosType == 'finished'" class="relative group" (click)="showAlert()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                </svg>
                <span class="opacity-0 absolute top-0 left-1 w-full h-full flex justify-center items-center text-sm group-hover:opacity-100 transition-opacity duration-300 -mt-6">Cancel</span>
            </button>
            <button *ngIf="todosType == 'canceled'" class="relative group" (click)="cancelTodo()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                </svg>
                <span class="opacity-0 absolute top-0 left-1 w-full h-full flex justify-center items-center text-sm group-hover:opacity-100 transition-opacity duration-300 -mt-6">UnCancel</span>
            </button>

            <!-- Button Delete -->
            <button (click)="removeTodo()" class="relative group">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>
                <span class="opacity-0 absolute top-0 left-1 w-full h-full flex justify-center items-center text-sm group-hover:opacity-100 transition-opacity duration-300 -mt-6">Delete</span>
            </button>

            <!-- Button Edit -->
            <button (click)="toggleEditing(i);" class="relative group">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
                </svg>
                <span class="opacity-0 absolute top-0 -left-1 w-full h-full flex justify-center items-center text-sm group-hover:opacity-100 transition-opacity duration-300 -mt-6">Edit</span>
            </button>

            <!-- Button Done -->
            <button *ngIf="todosType == 'onGoing'" id="toggle" class="form-checkbox h-7 w-6 text-green-600 relative group" (click)="doneTodo()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>
                <span class="opacity-0 absolute top-0 left-1 w-full h-full flex justify-center items-center text-sm group-hover:opacity-100 transition-opacity duration-300 -mt-6">Done</span>
            </button>
            <button *ngIf="todosType == 'finished'" id="toggle" class="form-checkbox h-7 w-6 text-green-600 relative group" (click)="doneTodo()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>
                <span class="opacity-0 absolute top-0 left-1 w-full h-full flex justify-center items-center text-sm group-hover:opacity-100 transition-opacity duration-300 -mt-6">UnDone</span>
            </button>
            <button *ngIf="todosType == 'canceled'" id="toggle" class="form-checkbox h-7 w-6 text-green-600 relative group" (click)="showAlert()">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>
                <span class="opacity-0 absolute top-0 left-1 w-full h-full flex justify-center items-center text-sm group-hover:opacity-100 transition-opacity duration-300 -mt-6">Done</span>
            </button>
        </div>
    </div>
    <div *ngIf="editingMode && editingIndex === i" class="h-full flex items-center justify-between border-gray-200 border p-4 rounded-lg" style="width: 800px;">         
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-16 h-16 text-blue-500 object-cover object-center flex-shrink-0 rounded-full mr-4">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
                </svg>
                <div class="flex flex-col space-y-4">
                    <div class="flex items-center">
                        <label class="w-44" for="title">Title</label>
                        <input 
                        type="text"
                        id="title"
                        name="title"
                        value={{todoTitleValue}}
                        [(ngModel)]="todoTitleModel"
                        class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out">
                    </div>
                    <div class="flex items-center">
                        <label class="w-32" for="description">Description</label>
                        <!-- <input
                            type="text"
                            id="description"
                            name="description"
                            value={{todoDescriptionValue}}
                            [(ngModel)]="todoDescriptionModel"
                            class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"> -->
                            <textarea
                            id="description"
                            name="description"
                            [(ngModel)]="todoDescriptionModel"
                            class="w-full md:w-96 bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-white focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"
                            rows="3" cols="16"
                            style="resize: both;">
                        </textarea>
                    </div>
            </div>
            </div>
            <div class="flex items-center space-x-6">
                <button (click)="changeTodo()">
                    <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 10 16">
                        <path d="M3.414 1A2 2 0 0 0 0 2.414v11.172A2 2 0 0 0 3.414 15L9 9.414a2 2 0 0 0 0-2.828L3.414 1Z"/>
                    </svg>
                </button>
            </div>
    </div>
</div>